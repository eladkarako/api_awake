(function(){ "use strict";
  var video
     ,source
     ,api_awake
     ;

  video = document.createElement("video");
  video.setAttribute("muted", "");
  video.setAttribute("playsinline", "");
  video.setAttribute("loop", "");
  video.setAttribute("preload", "auto");
  video.setAttribute("title", "No Sleep");

  /* MP4 */
  source = document.createElement("source");
  source.type = "video/mp4";
  source.src = "data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAABZttZGF0AAACcwYF//9v3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE1NyByMjk2OSBkNDA5OWRkIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxOSAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTAgcmVmPTMgZGVibG9jaz0xOi0zOi0zIGFuYWx5c2U9MHgxOjB4MTExIG1lPWhleCBzdWJtZT03IHBzeT0xIHBzeV9yZD0yLjAwOjAuNzAgbWl4ZWRfcmVmPTEgbWVfcmFuZ2U9MTYgY2hyb21hX21lPTEgdHJlbGxpcz0xIDh4OGRjdD0wIGNxbT0wIGRlYWR6b25lPTIxLDExIGZhc3RfcHNraXA9MSBjaHJvbWFfcXBfb2Zmc2V0PS00IHRocmVhZHM9NiBsb29rYWhlYWRfdGhyZWFkcz0xIHNsaWNlZF90aHJlYWRzPTAgbnI9MCBkZWNpbWF0ZT0xIGludGVybGFjZWQ9MCBibHVyYXlfY29tcGF0PTAgY29uc3RyYWluZWRfaW50cmE9MCBiZnJhbWVzPTAgd2VpZ2h0cD0wIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMjAAgAAAAMxliIQPznEYoAAm+xwABIpjgACWTJycnJycnJycnJycnJycnJycnJ11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111114AAAAIQZo4H5zgPGAA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"
  video.appendChild(source);

  /* WEBM */
  source = document.createElement("source");
  source.type = "video/webm";
  source.src = "data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4ECQoWBAhhTgGcBAAAAAAAI8xFNm3RAO027i1OrhBVJqWZTrIHlTbuMU6uEFlSua1OsggEjTbuMU6uEElTDZ1OsggFrTbuMU6uEHFO7a1OsggjW7AEAAAAAAACbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAADIq17GDD0JATYCNTGF2ZjU4LjI2LjEwMVdBjUxhdmY1OC4yNi4xMDFEiYhAn0AAAAAAABZUrmsBAAAAAAAAPK4BAAAAAAAAM9eBAXPFgQGcgQAitZyDdW5khoVWX1ZQOIOBASPjg4QCYloA4AEAAAAAAAAHsIIBQLqBtBJUw2cBAAAAAAAAv3NzAQAAAAAAAC5jwAEAAAAAAAAAZ8gBAAAAAAAAGkWjh0VOQ09ERVJEh41MYXZmNTguMjYuMTAxc3MBAAAAAAAAOWPAAQAAAAAAAARjxYEBZ8gBAAAAAAAAIUWjh0VOQ09ERVJEh5RMYXZjNTguNDcuMTAzIGxpYnZweHNzAQAAAAAAADpjwAEAAAAAAAAEY8WBAWfIAQAAAAAAACJFo4hEVVJBVElPTkSHlDAwOjAwOjAyLjAwMDAwMDAwMAAAH0O2dQEAAAAAAAaU54EAo0CjgQAAgNAPAJ0BKkABtAAARwiFhYiFhIgCAgJ1qgP4A/oCBrak9waBZJ9r25snOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnOHsnLgD+/W7z/+K1h1nF/4rf/9Nk8VeM/+mLAKOdgQAoALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEAUACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BAHgAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQCgALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEAyACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BAPAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOcgQEYAJECAAEQEBRgAGFgv9AAIgAQzX61yT5WAKOdgQFAALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEBaACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BAZAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQG4ALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEB4ACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BAggAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQIwALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYECWACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BAoAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQKoALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnIEC0ACRAgABEBAUYABhYL/QACIAEM1+tck+VgCjnYEC+ACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BAyAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQNIALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEDcACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BA5gAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQPAALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYED6ACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BBBAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQQ4ALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEEYACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo5yBBIgAkQIAARAQFGAAYWC/0AAiABDNfrXJPlYAo52BBLAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQTYALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEFAACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BBSgAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQVQALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEFeACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BBaAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQXIALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEF8ACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BBhgAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOcgQZAAJECAAEQEBRgAGFgv9AAIgAQzX61yT5WAKOdgQZoALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEGkACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BBrgAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQbgALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEHCACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BBzAAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAAKOdgQdYALECAAEQEAAYABhYL/QACIAEM1+tck+VgACjnYEHgACxAgABEBAAGAAYWC/0AAiABDNfrXJPlYAAo52BB6gAsQIAARAQABgAGFgv9AAIgAQzX61yT5WAABxTu2sBAAAAAAAAEbuPs4EAt4r3gQHxggI28IED"
  video.appendChild(source);


  video.addEventListener("timeupdate", function(ev){
    if(video.currentTime > 0.5)
      video.currentTime = 0.1;
  });


  api_awake = {}
  api_awake.is_on = function(){  return (false === video.paused);  }
  api_awake.on    = function(){  video.play();                     }
  api_awake.off   = function(){  video.pause();                    }


  self.api_awake = api_awake;
}());
